dwd x Test 123
mov @TEMP@ 0
mov @TEMP1@ 0
mov asdf 0
psh x
int 0x6
pop @TEMP1@
whl @TEMP@ < @TEMP1@
mov asdf x[@TEMP@]
psh asdf
jmp println
pop @TEMP1@
add @TEMP@ 1
pop @TEMP@
endwhl
.newline
nsp newline
dwd @TEMP0@ /n
psh @TEMP0@
int 0x1
dwd @TEMP0@ NULL
endnsp
end
.strlen
nsp strlen
pop str
psh str
int 0x8
endnsp
end
.printString
nsp printString
pop length
pop str
mov temp 0
whl temp < length
mov tempChar str[temp]
psh tempChar
jmp print
pop @TEMP1@
psh temp
psh 1.0
pop @TEMP1@
pop @TEMP0@
add @TEMP0@ @TEMP1@
pop temp
endwhl
endnsp
end
.print
nsp print
pop x
psh x
int 0x1
endnsp
end
.println
nsp println
pop x
psh x
psh x
jmp strlen
pop @TEMP1@
psh @TEMP1@
jmp printString
pop @TEMP1@
jmp newline
pop @TEMP1@
endnsp
end
.readChar
nsp readChar
int 0x3
pop @TEMP@
psh @TEMP@
endnsp
end
.itoa
nsp itoa
pop num
psh num
int 0x4
pop @TEMP@
psh @TEMP@
endnsp
end
.atoi
nsp atoi
pop a
psh a
int 0x5
pop @TEMP@
psh @TEMP@
endnsp
end
.readString
nsp readString
dwd tempString 
jmp readChar
pop temp
whl temp > 10
psh temp
jmp itoa
pop temp
psh tempString
psh temp
pop @TEMP1@
pop @TEMP0@
add @TEMP0@ @TEMP1@
pop tempString
jmp readChar
pop temp
endwhl
psh tempString
endnsp
end
